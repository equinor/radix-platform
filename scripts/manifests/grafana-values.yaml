ingress:
  enabled: true
  annotations:
    kubernetes.io/tls-acme: "true"
  hosts:
  - xx
  tls:
  - secretName: "grafana-tls"
    hosts:
      - xx

resources:
  limits:
    cpu: "2"
    memory: "2000Mi"
  requests:
    cpu: "0.2"
    memory: "200Mi"

env:
  GF_DATABASE_TYPE: mysql
  GF_DATABASE_SSL_MODE: "skip-verify"
  GF_DATABASE_CA_CERT_PATH: /etc/ssl/certs/ca-certificates.crt
  GF_DATABASE_HOST: radixgrafana.mysql.database.azure.com
  GF_DATABASE_NAME: grafana
  GF_DATABASE_USER: "grafana@radixgrafana"
  GF_AUTH_GENERIC_OAUTH_CLIENT_ID: 7542f95d-c9f4-492f-8450-b3ef2286da7c
  GF_AUTH_GENERIC_OAUTH_ENABLED: "true"
  GF_AUTH_ANONYMOUS_ENABLED: "false"
  GF_AUTH_GENERIC_OAUTH_NAME: Azure AD
  GF_AUTH_GENERIC_OAUTH_ALLOW_SIGN_UP: "true"
  GF_AUTH_GENERIC_OAUTH_SCOPES: openid email name
  GF_AUTH_GENERIC_OAUTH_AUTH_URL: https://login.microsoftonline.com/3aa4a235-b6e2-48d5-9195-7fcf05b459b0/oauth2/authorize
  GF_AUTH_GENERIC_OAUTH_TOKEN_URL: https://login.microsoftonline.com/3aa4a235-b6e2-48d5-9195-7fcf05b459b0/oauth2/token
  GF_DATABASE_TYPE: mysql
  GF_DATABASE_SSL_MODE: "skip-verify"
  GF_DATABASE_CA_CERT_PATH: /etc/ssl/certs/ca-certificates.crt
  GF_USERS_AUTO_ASSIGN_ORG_ROLE: "Editor" # Viewer|Editor|Admin
  GF_SERVER_ROOT_URL: xx

envFromSecret: grafana-secrets

datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
    - name: prometheus
      type: prometheus
      url: http://prometheus-operator-prometheus:9090
      access: proxy
      isDefault: false
      basicAuth: false
      jsonData:
        timeInterval: "5s"
